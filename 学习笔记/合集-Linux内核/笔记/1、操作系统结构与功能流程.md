### 第1讲 操作系统的结构 与 功能

#### 1. 操作系统的结构

<img src="1、操作系统结构与功能流程.assets/image-20240428015229930.png" alt="image-20240428015229930" style="zoom: 33%;" />

用户应用程序 -> 操作系统的服务层 sys_call (理解为快递中转) -> 操作系统内核 -> 硬件系统( 驱动 )

#### 2. 操作系统的工作方式：

![image-20240428020710966](1、操作系统结构与功能流程.assets/image-20240428020710966.png)

1. 把操作系统从用户态 切换到 内核态 ( 用户应用程序到内核的流程 )

2. 实现操作系统的系统调用 ( 操作系统服务层 )

3. 应用操作系统提供的底层函数，进行功能实现

   3.1 操作系统的驱动结构

4. 退出后从内核态切换到用户态

#### 3. 操作系统内核中各级模块的相互关联

![image-20240428022314541](1、操作系统结构与功能流程.assets/image-20240428022314541.png)

![image-20240428021613757](1、操作系统结构与功能流程.assets/image-20240428021613757.png)

1. Linux 内核的整体模块：进程调度模块、内存管理模块、文件系统模块、进程间通信模块、驱动管理模块

2. 每个模块之间的关系：    
   1. 内存管理 和 驱动管理模块（eg. 虚拟内存，-> 内存不够用时可以虚拟一块大内存，并将用不到的内存资源临时存放在硬盘缓存，需要的时候去取，此时 就内存管理模块需要访问驱动管理模块获取硬盘信信息）
   2. VFS 虚拟文件系统 把硬件当成系统来进行使用 ( Linux 一切皆文件，硬件设备当成文件来调用 )
   
   > tip: 高速缓存: 用户写文件到硬盘中时为保证 Linux 快速执行，它可能会放到高速缓存中，在关机或者别的时候一次性写入

#### 4. 操作系统结构的独立性

作用: 易于维护 1991 -- 20xx

1. 管理层 ( 提供接口，并不实现功能 ) 留给后续需要的时候实现。

   <img src="1、操作系统结构与功能流程.assets/image-20240428022613403.png" alt="image-20240428022613403" style="zoom:50%;" />

2. 实现层

高版本的内核与低版本内核之间的区别：

- 多的是内核驱动的种类，而**内核驱动的管理模式并没有巨大的改变** ( 一段时间 3 个阶段 **零散型 分层型 设备树** ) 
- 进程的调度算法发生了改变，而**进程的管理方式并没有巨大的改变**













